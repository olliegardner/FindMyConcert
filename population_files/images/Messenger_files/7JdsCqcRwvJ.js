if (self.CavalryLogger) { CavalryLogger.start_js(["v36BD"]); }

__d("BlueBarCreation",["csx","fbt","BasicFBNux","CSS","DOM"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=null,j=null;a={setUpCreateIntentButton:function(a,c,d,e){__p&&__p();var f=this,g=function(){__p&&__p();for(var c=a._items,d=Array.isArray(c),e=0,c=d?c:c[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=c.length)break;f=c[e++]}else{e=c.next();if(e.done)break;f=e.value}f=f;if(f._data){var g=f._data;g["class"]&&g["class"]==="createIntentRemovedSeparator"&&b("CSS").addClass(f._root,"hidden_elem");g["data-gt"]&&g["data-gt"].includes("menu_create")&&!g["data-gt"].includes("business_page")&&b("CSS").addClass(f._root,"hidden_elem")}}},j=function(a){var c={menu_create_page:{title:h._("Create Pages Has Moved"),subtitle:h._("Now you can create Pages, ads, groups, and more from this new convenient location")},menu_create_ads:{title:h._("Create Ads Has Moved"),subtitle:h._("Now you can create ads, Pages, groups, and more from this new convenient location")},menu_create_group:{title:h._("Create Groups Has Moved"),subtitle:h._("Now you can create groups, Pages, ads, and more from this new convenient location")},menu_create_fundraiser:{title:h._("Create Fundraiser Has Moved"),subtitle:h._("Now you can create fundraisers, Pages, Ads, and more from this new convenient location")}};if(i){var d=b("DOM").find(i._root,"._6lop"),e=b("DOM").find(i._root,"._6loq");b("DOM").setContent(d,c[a].title);b("DOM").setContent(e,c[a].subtitle)}};a.subscribe("itemclick",function(a,b){a=b.item._data;if(a["data-gt"]&&a["data-gt"].includes("menu_create")&&!a["data-gt"].includes("business_page")){b=JSON.parse(a["data-gt"]);g();j(b.logout_menu_click);f._showNux()}})},attachNux:function(a,b){i=a,j=b},setDialogInstantiated:function(){},displayNuxOnDialogShow:function(a,b){a.subscribe("show",this._showNux.bind(this))},_showNux:function(){i&&!i.isShown()&&j&&(i.show(),b("BasicFBNux").onView(j),i=null,j=null)}};e.exports=a}),null);
__d("LoggedInAccountSwitcherEvents",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({ADD_ACCOUNT:"add_account",CLOSE_BLUEBAR_DIALOG:"close_bluebar_dialog",OPEN_BLUEBAR_DIALOG:"open_bluebar_dialog",DISMISS_DIALOG:"dismiss_dialog",SAVE_PASSWORD:"save_password",DONT_SAVE_PASSWORD:"dont_save_password",REMOVE_ACCOUNT:"remove_account",SWITCH_ACCOUNT:"switch_account",SWITCH_WORKPLACE:"switch_workplace"})}),null);
__d("LoggedInAccountSwitcherSurfaces",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({BLUEBAR:"bluebar"})}),null);
__d("LoggedInAccountSwitcherTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(){this.$1={}}var c=a.prototype;c.log=function(){b("GeneratedLoggerUtils").log("logger:LoggedInAccountSwitcherLoggerConfig",this.$1,b("Banzai").BASIC)};c.logVital=function(){b("GeneratedLoggerUtils").log("logger:LoggedInAccountSwitcherLoggerConfig",this.$1,b("Banzai").VITAL)};c.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:LoggedInAccountSwitcherLoggerConfig",this.$1,{signal:!0})};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setBadgeHasCount=function(a){this.$1.badge_has_count=a;return this};c.setBadgeShown=function(a){this.$1.badge_shown=a;return this};c.setEvent=function(a){this.$1.event=a;return this};c.setSurface=function(a){this.$1.surface=a;return this};c.setUsersCount=function(a){this.$1.users_count=a;return this};c.setVC=function(a){this.$1.vc=a;return this};return a}();c={badge_has_count:!0,badge_shown:!0,event:!0,surface:!0,users_count:!0,vc:!0};e.exports=a}),null);
__d("XLoggedInAccountSwitcherBlueBarBadgeController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/logged_in_account_switcher/badge/",{})}),null);
__d("XLoggedInAccountSwitcherBlueBarContentController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/logged_in_account_switcher/content/",{})}),null);
__d("XLoginAccountSelectorRemoveAsyncController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/login/device-based/async/remove/",{cuid:{type:"String"},flow:{type:"Enum",enumType:1}})}),null);
__d("LoggedInAccountSwitcher",["csx","cx","Arbiter","AsyncRequest","CSS","DOM","DOMQuery","Event","LoggedInAccountSwitcherEvents","LoggedInAccountSwitcherSurfaces","LoggedInAccountSwitcherTypedLogger","ServiceWorkerLoginAndLogout","XLoggedInAccountSwitcherBlueBarBadgeController","XLoggedInAccountSwitcherBlueBarContentController","XLoginAccountSelectorRemoveAsyncController","setImmediate"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i="logged_in_account_switcher:remove_account",j,k,l,m,n,o;({});var p={shown:!1,has_count:!1};a={initBlueBarSwitcher:function(a,c,d,e,f){k=a,m=c,n=d,o=e,this._initDialog(a,d),this._mousemoveListener=b("Event").listen(k,"mousemove",this._onBlueBarMouseMove.bind(this)),f||b("setImmediate")(this._loadBadge)},_loadBadge:function(){var a=b("XLoggedInAccountSwitcherBlueBarBadgeController").getURIBuilder().getURI();new(b("AsyncRequest"))().setURI(a).setMethod("POST").setRelativeTo(k).send()},_onBlueBarMouseMove:function(){this._mousemoveListener.remove(),this._loadDialogContentIfNeeded()},_loadDialogContentIfNeeded:function(){if(!l){l=!0;var a=b("XLoggedInAccountSwitcherBlueBarContentController").getURIBuilder().getURI();new(b("AsyncRequest"))().setURI(a).setMethod("POST").setRelativeTo(k).send()}},onBlueBarSwitcherLoad:function(){b("setImmediate")(function(){n.setInnerContent(m.children[0]),b("DOM").empty(m)})},initTile:function(a){a=b("DOMQuery").find(a,"._62l4");a&&this.initElementContainingForm(a,b("LoggedInAccountSwitcherEvents").SWITCH_ACCOUNT)},initRemoveAccountElement:function(a,c,d,e){var f=this,g=b("Arbiter").subscribe(i,function(a,e){e.cuid===d&&(b("DOM").remove(c),g.unsubscribe())});b("Event").listen(a,"click",function(a){a.stopPropagation();j||(j=!0,f._removeUserFromAccountSwitcher(d,e));return!1})},initElementContainingForm:function(a,c){var d=this;b("Event").listen(a,"click",function(e){e.stopPropagation();e.preventDefault();if(!j){e=b("DOMQuery").find(a,"form");e&&(d._logEvent(c,b("LoggedInAccountSwitcherSurfaces").BLUEBAR),j=!0,b("Event").fire(e,"submit"),e.submit(),b("ServiceWorkerLoginAndLogout").logout())}})},_initDialog:function(a,c){var d=this;c.subscribe("hide",function(){b("CSS").removeClass(k,"_1dqw"),d._logEvent(b("LoggedInAccountSwitcherEvents").CLOSE_BLUEBAR_DIALOG,b("LoggedInAccountSwitcherSurfaces").BLUEBAR),d._clearBadge()});c.subscribe("show",function(){b("CSS").addClass(k,"_1dqw"),d._clearBadge(),d._hideNux()});b("Event").listen(a,"click",function(){d._logEvent(b("LoggedInAccountSwitcherEvents").OPEN_BLUEBAR_DIALOG,b("LoggedInAccountSwitcherSurfaces").BLUEBAR),d._loadDialogContentIfNeeded(),c.show()})},_hideNux:function(){o!=null&&o.hide()},_clearBadge:function(){var a=b("DOMQuery").scry(k,"._1dqx")[0];a!=null&&b("DOM").empty(a);p={shown:!1,has_count:!1}},_logEvent:function(a,c){var d=new(b("LoggedInAccountSwitcherTypedLogger"))();c===b("LoggedInAccountSwitcherSurfaces").BLUEBAR&&d.setBadgeShown(p.shown);d.setEvent(a).setSurface(c).log()},_removeUserFromAccountSwitcher:function(a,c){this._logEvent(b("LoggedInAccountSwitcherEvents").REMOVE_ACCOUNT,c);c=b("XLoginAccountSelectorRemoveAsyncController").getURIBuilder().getURI();new(b("AsyncRequest"))().setURI(c).setData({cuid:a,flow:"logged_in_account_switcher"}).setMethod("POST").setHandler(function(){j=!1}).send();b("Arbiter").inform(i,{cuid:a})}};e.exports=a}),null);
__d("XBrowserPushDisabledController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/notifications/client/push/disabled/",{})}),null);
__d("XBrowserPushXOutController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/notifications/client/push/xout/",{})}),null);
__d("XServiceWorkerSessionChangeController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/service_workers/session/persist/",{})}),null);
__d("BrowserPushSessionChange.react",["cx","fbt","ix","AsyncRequest","BanzaiLogger","Image.react","ImageBlock.react","LayerFadeOnHide","React","ReloadPage","XBrowserPushDisabledController","XBrowserPushXOutController","XServiceWorkerSessionChangeController","XUIDialog.react","XUIDialogBody.react","XUIDialogButton.react","XUIDialogFooter.react","XUIDialogOkayButton.react","XUIDialogTitle.react","XUISpinner.react","XUIText.react"],(function(a,b,c,d,e,f,g,h,i){__p&&__p();a=b("React").PropTypes;c=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={dialogShown:!0,spin:!1},d.$1=function(a){if(a)return;d.setState({dialogShown:!1});d.$2("session_keep");a=b("XServiceWorkerSessionChangeController").getURIBuilder().getURI();new(b("AsyncRequest"))().setURI(a).setMethod("POST").setData({app_id:d.props.push.appID}).setAllowCrossPageTransition(!0).setHandler(function(a){d.props.onHide()}).send()},d.$3=function(){d.setState({spin:!0});d.$2("session_uninstall");d.$2("xout");var a=b("XBrowserPushXOutController").getURIBuilder().getURI(),c=function(){d.props.push.unregisterPushAndSW(b("XBrowserPushDisabledController"),b("AsyncRequest")).done(function(a){b("ReloadPage").now()})};new(b("AsyncRequest"))().setURI(a).setMethod("POST").setHandler(c).setAllowCrossPageTransition(!0).send()},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$2=function(a){a={event:a,appid:this.props.push.appID,surface:"session_change"};b("BanzaiLogger").log("BrowserPushLoggerConfig",a)};d.componentDidMount=function(){this.$2("session_change_prompt")};d.render=function(){if(!this.state.dialogShown)return null;var a=i("92724");return b("React").createElement(b("XUIDialog.react"),{shown:!0,behaviors:{LayerFadeOnHide:b("LayerFadeOnHide")},onToggle:this.$1,width:445,key:"dialog"},b("React").createElement(b("XUIDialogTitle.react"),null,h._("Skrivbordsaviseringar \u00e4r p\u00e5")),b("React").createElement(b("XUIDialogBody.react"),null,this.state.spin?b("React").createElement(b("XUISpinner.react"),{size:"large"}):b("React").createElement(b("ImageBlock.react"),{spacing:"medium"},b("React").createElement(b("Image.react"),{src:a,alt:h._("Skrivbordsaviseringar \u00e4r p\u00e5")}),b("React").createElement("div",null,b("React").createElement("div",{className:"_3-8h"},b("React").createElement(b("XUIText.react"),{size:"header3"},h._("N\u00e4r du f\u00e5r en ny avisering ser du den i h\u00f6rnet p\u00e5 sk\u00e4rmen."))),b("React").createElement("div",{className:"_3-8h"},b("React").createElement(b("XUIText.react"),{size:"meta1"},h._("F\u00f6r att du s\u00e4kert ska ta emot alla aviseringar forts\u00e4tter du att vara inloggad p\u00e5 Facebook p\u00e5 den h\u00e4r datorn. Om du anv\u00e4nder en allm\u00e4n dator eller inte vill forts\u00e4tta vara inloggad klickar du p\u00e5 \u00c5ngra f\u00f6r att st\u00e4nga av skrivbordsaviseringar.")))))),b("React").createElement(b("XUIDialogFooter.react"),null,b("React").createElement(b("XUIDialogButton.react"),{action:"button",label:h._("\u00c5ngra"),onClick:this.$3}),b("React").createElement(b("XUIDialogOkayButton.react"),{use:"confirm",action:"cancel"})))};return c}(b("React").Component);c.propTypes={onHide:a.func.isRequired,push:a.object.isRequired};e.exports=c}),null);
__d("MockChromeBrowserNotification.react",["cx","fbt","ix","BrowserPushStrings","DOMContainer.react","Image.react","React","WorkModeConfig","isNode","joinClasses"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=b("isNode")(this.props.message)?b("React").createElement(b("DOMContainer.react"),null,this.props.message):this.props.message,c=!this.props.image&&b("WorkModeConfig").is_work_user,d=this.props.image?this.props.image:this.props.defaultImage;return b("React").createElement("section",{className:b("joinClasses")(this.props.className,"_257o")},b("React").createElement("span",{className:"_61kd"}),b("React").createElement(b("Image.react"),{className:(c?"":"_ega")+(c?" _2rk4":""),draggable:!1,src:d}),b("React").createElement("div",{className:"_egb"},b("React").createElement("h3",null,b("BrowserPushStrings").title),b("React").createElement("p",null,a),b("React").createElement("cite",null,window.location.hostname)))};return c}(b("React").Component);a.defaultProps={message:h._("Du har nya aviseringar."),defaultImage:b("WorkModeConfig").is_work_user?i("351290"):i("76304")};e.exports=a}),null);
__d("MockEdgeBrowserNotification.react",["cx","fbt","ix","BrowserPushStrings","DOMContainer.react","Image.react","React","WorkModeConfig","isNode","joinClasses"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=b("isNode")(this.props.message)?b("React").createElement(b("DOMContainer.react"),null,this.props.message):this.props.message,c=h._("Microsoft Edge");return b("React").createElement("section",{className:b("joinClasses")(this.props.className,"_2eed")},b("React").createElement(b("Image.react"),{className:(b("WorkModeConfig").is_work_user?"":"_2eee")+(b("WorkModeConfig").is_work_user?" _3_qv":""),draggable:!1,src:this.props.image}),b("React").createElement("div",{className:"_2eef"},b("React").createElement("h3",{className:"_2eeg"},b("BrowserPushStrings").title),b("React").createElement("p",{className:"_2eeh"},a),b("React").createElement("div",{className:"_2eei"},c," \xb7 ",window.location.hostname)))};return c}(b("React").Component);a.defaultProps={message:h._("Du har nya aviseringar."),image:b("WorkModeConfig").is_work_user?i("351290"):i("363137")};e.exports=a}),null);
__d("MockFirefoxBrowserNotification.react",["cx","fbt","ix","BrowserPushStrings","DOMContainer.react","Image.react","React","WorkModeConfig","isNode","joinClasses"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=b("isNode")(this.props.message)?b("React").createElement(b("DOMContainer.react"),null,this.props.message):this.props.message,c=this.props.isWindows;return b("React").createElement("section",{className:b("joinClasses")(this.props.className,"_g5o")},c?this.$1(a):this.$2(a))};d.$2=function(a){return b("React").createElement("div",{className:"_g5p"},b("React").createElement("div",{className:"_g5q"},b("React").createElement(b("Image.react"),{draggable:!1,src:i("355144")})),b("React").createElement("div",{className:"_g5r"},b("React").createElement("h3",null,b("BrowserPushStrings").title),b("React").createElement("cite",null,window.location.hostname),b("React").createElement("p",null,a)),b("React").createElement(b("Image.react"),{className:(b("WorkModeConfig").is_work_user?"":"_g5u")+(b("WorkModeConfig").is_work_user?" _gcl":""),draggable:!1,src:this.props.image}))};d.$1=function(a){return b("React").createElement("div",{className:"_g5w"},b("React").createElement("h3",null,b("BrowserPushStrings").title),b("React").createElement("div",{className:"_g5x"},b("React").createElement("span",{className:"_g5z"}),b("React").createElement("span",{className:"_g7w"})),b("React").createElement("div",{className:"_g5r"},b("React").createElement(b("Image.react"),{className:(b("WorkModeConfig").is_work_user?"":"_g5u")+(b("WorkModeConfig").is_work_user?" _gcl":""),draggable:!1,src:this.props.image}),b("React").createElement("div",{className:"_g7x"},b("React").createElement("p",null,a),b("React").createElement("cite",null,window.location.hostname))))};return c}(b("React").Component);a.defaultProps={message:h._("Du har nya aviseringar."),image:b("WorkModeConfig").is_work_user?i("351290"):i("363137"),isWindows:!1};e.exports=a}),null);
__d("MockBrowserNotification.react",["MockChromeBrowserNotification.react","MockEdgeBrowserNotification.react","MockFirefoxBrowserNotification.react","React","UserAgent"],(function(a,b,c,d,e,f){"use strict";e.exports=function(a){var c=b("UserAgent").isPlatform("Windows");if(b("UserAgent").isBrowser("Firefox"))return b("React").createElement(b("MockFirefoxBrowserNotification.react"),babelHelpers["extends"]({},a,{isWindows:c}));else if(b("UserAgent").isBrowser("Edge"))return b("React").createElement(b("MockEdgeBrowserNotification.react"),a);return b("React").createElement(b("MockChromeBrowserNotification.react"),babelHelpers["extends"]({},a,{isWindows:c}))}}),null);
__d("NotificationPermissionNotice.react",["cx","fbt","Event","Keys","React","XUIAmbientNUX.react"],(function(a,b,c,d,e,f,g,h){__p&&__p();var i=[];a=b("React").PropTypes;c=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.componentDidMount=function(){var a=this;i.push(b("Event").listen(window,"mousedown",this.props.onHide));i.push(b("Event").listen(window,"keydown",function(c){c.keyCode===b("Keys").ESC&&a.props.onHide()}))};d.componentWillUnmount=function(){while(i.length>0){var a=i.pop();a.remove()}};d.renderLayers=function(){var a=this,c=this.props.shortText?h._("Klicka p\u00e5 l\u00e5set f\u00f6r att ge {browser_name} till\u00e5telse att skicka skrivbordsaviseringar till dig.",[h._param("browser_name",this.props.browserName)]):h._("Om du \u00e4ndrar dig kan du klicka p\u00e5 l\u00e5set f\u00f6r att ge {browser_name} till\u00e5telse att skicka skrivbordsaviseringar till dig.",[h._param("browser_name",this.props.browserName)]);return b("React").createElement(b("XUIAmbientNUX.react"),{contextRef:function(){return a.refs.noticeAnchor},shown:!0,position:"below",onCloseButtonClick:this.props.onHide,key:"nux"},c)};d.render=function(){return b("React").createElement("span",null,b("React").createElement("span",{ref:"noticeAnchor",className:"_1_i1"}),this.renderLayers())};return c}(b("React").Component);c.propTypes={onHide:a.func.isRequired,shortText:a.bool,browserName:a.string.isRequired};e.exports=c}),null);
__d("NotificationPermissionRequest.react",["cx","React","Spotlight.react"],(function(a,b,c,d,e,f,g){__p&&__p();a=b("React").PropTypes;c=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return b("React").createElement(b("Spotlight.react"),{shown:!0,onHide:this.props.onHide,key:"spotlight"},b("React").createElement("div",{className:"_n3"}))};return c}(b("React").Component);c.propTypes={onHide:a.func};e.exports=c}),null);
__d("NotificationPermissionRequestWithPreview.react",["cx","fbt","ix","BrowserPushStrings","Image.react","ImageBlock.react","MockBrowserNotification.react","React","Spotlight.react","XUIAmbientNUX.react","XUIDialog.react","XUIDialogBody.react","XUIDialogButton.react","XUIDialogFooter.react","XUIDialogTitle.react"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=function(a){var c;return b("React").createElement(b("Spotlight.react"),{onHide:a.onHide,shown:a.shown,wash:"xui"},b("React").createElement("span",{ref:function(a){return c=a},className:"_m4w"}),b("React").createElement("div",{className:"_n3"},b("React").createElement(b("XUIAmbientNUX.react"),{contextRef:function(){return c},key:"nux",shown:a.shown,onCloseButtonClick:a.onHide,position:"below"},b("React").createElement("strong",null,h._("N\u00e4stan klart!")),b("React").createElement("br",null),h._("Klicka p\u00e5 Till\u00e5t f\u00f6r att slutf\u00f6ra aktiveringen av aviseringar."))))};a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={acceptPromptShown:!1,dialogShown:!0,spinnerShown:!1},c.$2=function(a){c.setState({dialogShown:a})},c.$3=function(){c.setState({acceptPromptShown:!c.props.hideSecondStep&&!c.props.showSpinnerWhileRequesting,dialogShown:c.props.showSpinnerWhileRequesting,spinnerShown:!c.props.hideSecondStep&&c.props.showSpinnerWhileRequesting}),c.props.onAccept&&c.props.onAccept(c.$4)},c.$4=function(){c.$1&&c.setState({acceptPromptShown:!1,dialogShown:!1})},c.$5=function(){c.setState({acceptPromptShown:!1})},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.UNSAFE_componentWillMount=function(){this.$1=!0};d.componentWillUnmount=function(){this.$1=!1};d.render=function(){var a=this.props,c=a.notificationImage;a=a.notificationMessage;c=b("React").createElement(b("MockBrowserNotification.react"),{className:"_m4x",image:c,message:a});a=this.state.spinnerShown?b("React").createElement(b("XUIDialogBody.react"),{className:"_mjv"},b("React").createElement(b("ImageBlock.react"),{spacing:"large"},b("React").createElement(b("Image.react"),{draggable:!1,src:i("287648"),width:40,height:40,className:"_mjw"}),b("React").createElement("div",null,b("React").createElement("strong",null,h._("N\u00e4stan klart!")),b("React").createElement("p",{className:"_mjx"},h._("Klicka p\u00e5 Till\u00e5t f\u00f6r att slutf\u00f6ra aktiveringen av aviseringar."))))):b("React").createElement(b("XUIDialogBody.react"),{className:"_mjy"},b("React").createElement(b("ImageBlock.react"),{spacing:"large"},b("React").createElement(b("Image.react"),{draggable:!1,src:i("287648"),className:"_mjw"}),b("React").createElement("div",null,this.props.isWebNotifications?b("BrowserPushStrings").explanation_web_notifications:b("BrowserPushStrings").explanation)),c);c=this.state.spinnerShown?null:b("React").createElement(b("XUIDialogFooter.react"),null,b("React").createElement(b("XUIDialogButton.react"),{action:"cancel",label:h._("Inte nu"),onClick:this.props.onClose}),b("React").createElement(b("XUIDialogButton.react"),{action:"button",label:h._("Aktivera"),onClick:this.$3,use:"special"}));return b("React").createElement("div",{className:"_m4y"},b("React").createElement(b("XUIDialog.react"),{layerHideOnBlur:!1,onToggle:this.$2,shown:this.state.dialogShown,titleID:"notification-permission-title",width:445},b("React").createElement(b("XUIDialogTitle.react"),{showCloseButton:!1},b("React").createElement("span",{id:"notification-permission-title"},b("BrowserPushStrings").turn_on)),a,c),b("React").createElement(j,{shown:this.state.acceptPromptShown,onHide:this.$5}))};return c}(b("React").Component);e.exports=a}),null);
__d("BlueBarCreateMenuTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(){this.$1={}}var c=a.prototype;c.log=function(){b("GeneratedLoggerUtils").log("logger:BlueBarCreateMenuLoggerConfig",this.$1,b("Banzai").BASIC)};c.logVital=function(){b("GeneratedLoggerUtils").log("logger:BlueBarCreateMenuLoggerConfig",this.$1,b("Banzai").VITAL)};c.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:BlueBarCreateMenuLoggerConfig",this.$1,{signal:!0})};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setEntrypointStyle=function(a){this.$1.entrypoint_style=a;return this};c.setEvent=function(a){this.$1.event=a;return this};c.setHasUserCreatedPriorToStartDate=function(a){this.$1.has_user_created_prior_to_start_date=a;return this};c.setMenuElement=function(a){this.$1.menu_element=a;return this};c.setMenuStyle=function(a){this.$1.menu_style=a;return this};c.setTime=function(a){this.$1.time=a;return this};c.setVC=function(a){this.$1.vc=a;return this};c.setWeight=function(a){this.$1.weight=a;return this};return a}();c={entrypoint_style:!0,event:!0,has_user_created_prior_to_start_date:!0,menu_element:!0,menu_style:!0,time:!0,vc:!0,weight:!0};e.exports=a}),null);
__d("CreateMenuEvents",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({CLICK:"click",IMPRESSION:"impression"})}),null);
__d("CreationMenuElements",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({ENTRYPOINT:"creation_hub_entrypoint",GROUP:"creation_hub_create_group",EVENT:"creation_hub_create_event",PAGE:"creation_hub_create_page",FUNDRAISER:"creation_hub_create_fundraiser",ADVERTISEMENT:"creation_hub_create_advertisement",POST:"creation_hub_create_post",PHOTO_OR_VIDEO:"creation_hub_create_photo_or_video",MARKETPLACE_LISTING:"creation_hub_create_marketplace_listing"})}),null);
__d("BlueBarCreateMenuLogger",["BlueBarCreateMenuTypedLogger","CreateMenuEvents","CreationMenuElements","PopoverAsyncMenu"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={initModal:function(a,c,d,e){new(b("BlueBarCreateMenuTypedLogger"))().setMenuElement(b("CreationMenuElements").ENTRYPOINT).setMenuStyle(c).setEntrypointStyle(d).setHasUserCreatedPriorToStartDate(e).setEvent(b("CreateMenuEvents").CLICK).log();for(var f=0;f<a.length;f++)a[f]&&(function(){var g=a[f],h=g.name;g=g.element;new(b("BlueBarCreateMenuTypedLogger"))().setMenuElement(h).setMenuStyle(c).setEntrypointStyle(d).setHasUserCreatedPriorToStartDate(e).setEvent(b("CreateMenuEvents").IMPRESSION).log();g.addEventListener("click",function(){new(b("BlueBarCreateMenuTypedLogger"))().setMenuElement(h).setMenuStyle(c).setEntrypointStyle(d).setHasUserCreatedPriorToStartDate(e).setEvent(b("CreateMenuEvents").CLICK).log()})})()},initDropdown:function(a,c,d,e){__p&&__p();a.onShow=function(){new(b("BlueBarCreateMenuTypedLogger"))().setMenuElement(b("CreationMenuElements").ENTRYPOINT).setMenuStyle(c).setEntrypointStyle(d).setHasUserCreatedPriorToStartDate(e).setEvent(b("CreateMenuEvents").CLICK).log(),a.forEachItem(function(a){if(!a._data.ctor.displayName.includes("MenuStaticItem")){a=a._data.id;new(b("BlueBarCreateMenuTypedLogger"))().setMenuElement(a).setMenuStyle(c).setEntrypointStyle(d).setHasUserCreatedPriorToStartDate(e).setEvent(b("CreateMenuEvents").IMPRESSION).log()}})},a.forEachItem(function(a){if(!a._data.ctor.displayName.includes("MenuStaticItem")){var f=a._data.id;a._onclickHandler=function(){new(b("BlueBarCreateMenuTypedLogger"))().setMenuElement(f).setMenuStyle(c).setEntrypointStyle(d).setHasUserCreatedPriorToStartDate(e).setEvent(b("CreateMenuEvents").CLICK).log()}}})},logEntrypointImpression:function(a,c,d){new(b("BlueBarCreateMenuTypedLogger"))().setMenuElement(b("CreationMenuElements").ENTRYPOINT).setMenuStyle(a).setEntrypointStyle(c).setHasUserCreatedPriorToStartDate(d).setEvent(b("CreateMenuEvents").IMPRESSION).log()}};e.exports=a}),null);
__d("BrowserDimensionsResizeLogger",["Bootloader","BrowserDimensionsLogger","debounceAcrossTransitions","getViewportDimensions"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=1e3,h=null;a={init:function(){__p&&__p();var a=function a(){b("Bootloader").loadModules(["WebBrowserDimensionsResizeTypedLogger"],function(){},"BrowserDimensionsResizeLogger"),window.removeEventListener("resize",a)};window.addEventListener("resize",a);window.addEventListener("resize",b("debounceAcrossTransitions")(function(){h===null&&(h=b("BrowserDimensionsLogger").getInitialViewportDimensions());var a=Object.assign({},h),c=b("getViewportDimensions")();h=c;var d=Math.floor(Math.abs(c.width-a.width)),e=Math.floor(Math.abs(c.height-a.height));if(d===0&&e===0)return;var f=window.screen.width,g=window.screen.height;b("Bootloader").loadModules(["WebBrowserDimensionsResizeTypedLogger"],function(b){new b().setPreviousWidth(a.width).setPreviousHeight(a.height).setCurrentWidth(c.width).setCurrentHeight(c.height).setScreenWidth(f).setScreenHeight(g).log()},"BrowserDimensionsResizeLogger")},g))}};e.exports=a}),null);
__d("BrowserPushCommands",[],(function(a,b,c,d,e,f){a="browser_push_ack";b="browser_push_redirect";c="browser_push_window_visible";d={ACK:a,REDIRECT:b,WINDOW_VISIBLE:c};e.exports=d}),null);
__d("BrowserPushMessageRedirectUtil",["Bootloader"],(function(a,b,c,d,e,f){__p&&__p();a=function(a){var c="(messages)(.*?)(?:(tid=))([^&]*)";a=a.match(c);if(!a)return!0;var d=a.pop();b("Bootloader").loadModules(["FantaTabActions"],function(a){a.openTab(d)},"BrowserPushMessageRedirectUtil");return!1};e.exports=a}),null);
__d("BrowserPushMessageHandler",["BrowserPushCommands","BrowserPushMessageRedirectUtil","EventListener","URI","URISchemes","isFacebookURI"],(function(a,b,c,d,e,f){__p&&__p();function g(a){__p&&__p();if(a.data.command&&a.data.command===b("BrowserPushCommands").REDIRECT){if(window.onbeforeunload()===void 0)a.ports[0].postMessage({command:b("BrowserPushCommands").ACK,success:!0});else{a.ports[0].postMessage({command:b("BrowserPushCommands").ACK,success:!1});return}a=a.data.uri;if(/^([^.:/?#]+):/.test(a)&&!b("URISchemes").isAllowed(/^([^.:/?#]+):/.exec(a)[1])||!b("isFacebookURI")(new(b("URI"))(a)))throw new Error("goURI: URI scheme rejected, URI: "+a);b("BrowserPushMessageRedirectUtil")(a)&&(window.location.href=a)}}a={registerRedirectHandler:function(){b("EventListener").listen(window,"message",function(a){a.origin===""&&g(a)}),navigator.serviceWorker&&navigator.serviceWorker.addEventListener&&navigator.serviceWorker.addEventListener("message",function(a){(navigator.serviceWorker&&navigator.serviceWorker.controller&&a.target&&a.target.controller&&a.target.controller===navigator.serviceWorker.controller||new RegExp("^"+window.location.protocol+"//"+window.location.host+"$").test(a.origin))&&g(a)})}};e.exports=a}),null);
__d("BrowserPushMuteOptions",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({ZERO:0,FIFTEEN_MINUTES:900,THIRTY_MINUTES:1800,FORTY_FIVE_MINUTES:2700,ONE_HOUR:3600,TWO_HOURS:7200,EIGHT_HOURS:28800,ONE_DAY:86400})}),null);
__d("BrowserPushVisibilityChanger",["BrowserPushCommands","ClientServiceWorkerMessage","Visibility"],(function(a,b,c,d,e,f){function g(){new(b("ClientServiceWorkerMessage"))(b("BrowserPushCommands").WINDOW_VISIBLE,null).sendViaController()}a={listenForVisibility:function(){b("Visibility").isHidden()||g(),b("Visibility").addListener(b("Visibility").VISIBLE,g)}};e.exports=a}),null);
__d("PushRegistrationUtils",[],(function(a,b,c,d,e,f){"use strict";var g={normalizeSubscriptionEndpoint:function(a){var b=a.endpoint;"subscriptionId"in a&&!new RegExp("/"+a.subscriptionId+"$").test(b)&&(b+="/"+a.subscriptionId);return b},setupPushRegistrationData:function(a,b){var c=g.normalizeSubscriptionEndpoint(a),d=null;a.toJSON?d=a.toJSON().keys:a.keys&&(d=a.keys);return{app_id:b,push_endpoint:c,subscription_keys:JSON.stringify(d)}}};e.exports=g}),null);
__d("XAsyncPushMuteController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/notifications/settings/push/mute/",{appid:{type:"Int",required:!0},push_endpoint:{type:"String",required:!0},mute_for:{type:"Enum",enumType:0}})}),null);
__d("XAsyncPushMuteStateController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/notifications/settings/push/mute/state/",{appid:{type:"Int",required:!0},push_endpoint:{type:"String",required:!0}})}),null);
__d("PushRegistration",["Promise","BrowserPushMessageHandler","BrowserPushMuteOptions","BrowserPushVisibilityChanger","PushRegistrationUtils","ServiceWorkerRegistration","XAsyncPushMuteController","XAsyncPushMuteStateController","emptyFunction","promiseDone"],(function(a,b,c,d,e,f){__p&&__p();var g=window.Notification,h=new Map();a=function(){"use strict";__p&&__p();a.get=function(b,c){if(h.has(c))return h.get(c);b=new a(b,c);h.set(c,b);return b};function a(b,c){this.$3=b,this.appID=c,!a.$1&&!a.$2&&(a.$1=!1,a.$2=!1)}var c=a.prototype;c.getPushSubscription=function(){var c=this;return new(b("Promise"))(function(d,e){a.pushPermissionIsDenied()&&e(new Error("No permission or not supported")),b("ServiceWorkerRegistration").getWorkerRegistration(c.$3).then(function(a){if(!a){d(null);return}a.pushManager.getSubscription().then(function(a){d(a)})["catch"](e)})["catch"](e)})};c.$4=function(a,c,d,e){a=a.getURIBuilder().getURI();c=new c(a);c.setData(b("PushRegistrationUtils").setupPushRegistrationData(d,this.appID));c.setMethod("post");c.setHandler&&c.setHandler(function(a){a.payload&&a.payload.session_change&&e()});c.send()};c.getMutedUntilInServer=function(a){__p&&__p();var c=this;return new(b("Promise"))(function(d,e){__p&&__p();c.getPushSubscription().then(function(f){if(f){f=b("PushRegistrationUtils").normalizeSubscriptionEndpoint(f);f=b("XAsyncPushMuteStateController").getURIBuilder().setString("push_endpoint",f).setInt("appid",c.appID).getURI();f=new a(f);f.listen("done",function(a){d(a.payload.muteUntilTimestampSec)});f.send()}else e("cannot check mute status for unsubscribed endpoint")})["catch"](e)})};c.muteNotifications=function(a,c){__p&&__p();var d=this;return new(b("Promise"))(function(e,f){__p&&__p();d.getPushSubscription().then(function(g){__p&&__p();if(g){g=b("PushRegistrationUtils").normalizeSubscriptionEndpoint(g);g=b("XAsyncPushMuteController").getURIBuilder().setEnum("mute_for",a).setString("push_endpoint",g).setInt("appid",d.appID).getURI();g=new c(g);g.setMethod("POST");g.listen("done",function(c){a!==b("BrowserPushMuteOptions").ZERO&&c.payload.muteUntilTimestampSec===0?f("operation failed in server"):e(c.payload.muteUntilTimestampSec)});g.send()}else f("no subscription found")})["catch"](f)})};c.getSubscription=function(){var a=this;return new(b("Promise"))(function(c,d){a.getPushSubscription().then(function(a){a?c(b("PushRegistrationUtils").normalizeSubscriptionEndpoint(a)):c(null)})["catch"](d)})};c.maybeRegisterPushAgain=function(a,c,d){var e=this;return new(b("Promise"))(function(f,g){e.getPushSubscription().then(function(g){g?(e.$4(a,c,g,d),f(b("PushRegistrationUtils").normalizeSubscriptionEndpoint(g))):f(null)})["catch"](function(){f(null)})})};c.$5=function(c,d,e){__p&&__p();var f=this;return new(b("Promise"))(function(b,g){__p&&__p();if(a.$2&&!e){g(new Error("sending disable info already"));return}a.$2=!0;var h=c.getURIBuilder().getURI();h=new d(h.toString());h.setData({appid:f.appID,from_browser_settings:e});h.setMethod("post");h.listen?(h.listen("finally",b),h.listen("fail",function(){a.$2=!1,g()})):h.setErrorHandler&&h.setHandler?(h.setErrorHandler(function(){a.$2=!1,g()}),h.setHandler(b)):b();h.send()})};c.isPushRegistered=function(c,d,e,f,g,h,i){var j=this;g===void 0&&(g=!1);h===void 0&&(h=b("emptyFunction"));i===void 0&&(i=!1);b("BrowserPushMessageHandler").registerRedirectHandler();return new(b("Promise"))(function(k,l){j.getPushSubscription().then(function(l){k(!!l||c&&!a.pushPermissionIsPending()),l?g?j.$4(d,f,l,h):b("BrowserPushVisibilityChanger").listenForVisibility():!l&&c&&(a.pushPermissionIsOn()?j.registerPush(d,f,h,i)["catch"](function(){}):j.$5(e,f,!1))})["catch"](function(){c&&j.$5(e,f,!1),i&&b("ServiceWorkerRegistration").unregisterControllingWorker(),l()})})};c.$6=function(){return new(b("Promise"))(function(a,b){g.requestPermission(a)})};c.registerPushAndWaitForEndpoint=function(a,c,d,e){var f=this;return new(b("Promise"))(function(b,g){f.$7(a,c,d,!0,null,e).then(function(a){if(typeof a!=="string"){g(new Error("registerPushImpl did not return an endpoint"));return}b(a)})["catch"](g)})};c.registerPushOnKaiOS=function(a,c,d){var e=this;return new(b("Promise"))(function(f,g){d.waitForKaiOS().done(function(){d.registerPush(function(d){d=JSON.parse(d.get("push_endpoint"));e.$4(a,c,d,b("emptyFunction"));f(b("PushRegistrationUtils").normalizeSubscriptionEndpoint(d))})})})};c.registerPush=function(a,c,d,e,f){d===void 0&&(d=b("emptyFunction"));e===void 0&&(e=!1);f===void 0&&(f=b("emptyFunction"));return this.registerPushWithFinishedCallBack(a,c,d,f,e)};c.registerPushWithFinishedCallBack=function(a,c,d,e,f){var g=this;return new(b("Promise"))(function(b,h){g.$7(a,c,d,!1,e,f).then(function(a){if(typeof a!=="boolean"){h(new Error("registerPushImpl did not return a boolean"));return}b(a)})["catch"](h)})};c.$7=function(c,d,e,f,g,h){__p&&__p();var i=this;if(a.$1)return new(b("Promise"))(function(a,b){b(new Error("registering already"))});if(!self.PushManager)return b("Promise").reject(new Error("PushManager not found."));a.$1=!0;return new(b("Promise"))(function(j,k){__p&&__p();var l=b("ServiceWorkerRegistration").registerWorkerIfUnregistered(i.$3),m=i.$6();b("Promise").all([l,m]).then(function(l){var m=l[0];if(!a.pushPermissionIsOn()){h&&m.unregister();throw new Error("Push permission was denied")}f||j(!0);m.pushManager.subscribe({userVisibleOnly:!0}).then(function(a){f&&j(b("PushRegistrationUtils").normalizeSubscriptionEndpoint(a)),i.$4(c,d,a,e),g&&g(),b("BrowserPushVisibilityChanger").listenForVisibility()})["catch"](function(b){a.$1=!1,h&&m.unregister(),k(b)})})["catch"](function(b){a.$1=!1,k(b)})})};c.unregisterPushAndSWOnKaiOS=function(a,c,d,e){var f=this;return new(b("Promise"))(function(b,g){f.$5(a,c,e).then(function(){d.unregisterPush(),b()})["catch"](g)})};c.unregisterPushAndSW=function(a,c){var d=this;return new(b("Promise"))(function(e,f){d.$5(a,c,!0).then(function(){b("promiseDone")(b("ServiceWorkerRegistration").unregisterControllingWorker(),e)})["catch"](f)})};c.unregisterPushOnly=function(a,c){var d=this;return new(b("Promise"))(function(b,e){d.getPushSubscription().then(function(f){f?f.unsubscribe().then(d.$5(a,c,!0)).then(function(){b(!0)})["catch"](e):e()})["catch"](e)})};a.pushPermissionIsPending=function(){return window.Notification&&window.Notification.permission==="default"};a.pushPermissionIsOn=function(){return window.Notification&&window.Notification.permission==="granted"};a.pushPermissionIsDenied=function(){return window.Notification&&window.Notification.permission==="denied"};return a}();e.exports=a}),null);
__d("XBrowserWebNotificationsEnableController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/notifications/client/web_notifications/enable/",{})}),null);
__d("XPushRegisterServiceWorkerController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/push/register/service_worker/",{})}),null);
__d("BrowserPushDirectPromptInstaller",["Promise","Arbiter","AsyncRequest","BanzaiLogger","Bootloader","BrowserPushSessionChange.react","CrossWindowEventEmitter","DOM","NotificationPermissionDummyRequest.react","NotificationPermissionNotice.react","NotificationPermissionRequest.react","NotificationPermissionRequestWithPreview.react","PushRegistration","QE2Logger","React","ReactDOM","XBrowserPushDisabledController","XBrowserPushDummyPromptActionController","XBrowserPushXOutController","XBrowserWebNotificationsEnableController","XPushRegisterServiceWorkerController","incognito","promiseDone"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=window.Notification,h=new(b("CrossWindowEventEmitter"))("BrowserPushInstall"),i={},j,k=!1;function l(a,c,d){d===void 0&&(d="prompt");a=babelHelpers["extends"]({event:a,appid:c,surface:d},i);b("BanzaiLogger").log("BrowserPushLoggerConfig",a)}function m(){i.xout_count===0&&j&&b("QE2Logger").logExposureForUser(j)}function n(a){var c=b("XBrowserPushXOutController").getURIBuilder().getURI();new(b("AsyncRequest"))().setURI(c).setMethod("POST").send();l("xout",a)}function o(a){var c=b("XBrowserWebNotificationsEnableController").getURIBuilder().getURI();new(b("AsyncRequest"))().setURI(c).setMethod("POST").send();b("Arbiter").inform("WebNotifications/enabled");h.emitRemote("complete");b("Bootloader").loadModules(["WebNotificationsPresenter"],function(b){b.init(a.toString())},"BrowserPushDirectPromptInstaller")}function p(a){k||(k=!0,b("ReactDOM").unmountComponentAtNode(a))}function q(a,c){var d=b("DOM").insertBefore(a,b("DOM").create("span"));d=d.pop();b("ReactDOM").render(b("React").createElement(b("BrowserPushSessionChange.react"),{onHide:function(){b("ReactDOM").unmountComponentAtNode(a)},push:c}),d)}function r(a,c,d,e,f){var g=b("PushRegistration").get(a,c);l("turn_on",c);return g.registerPushWithFinishedCallBack(b("XPushRegisterServiceWorkerController"),b("AsyncRequest"),function(){q(d,g)},function(){b("Arbiter").inform("BrowserPushInstall/installed")},f).then(function(){p(d),l("install",c)})["catch"](function(a){p(d),b("PushRegistration").pushPermissionIsDenied()?(b("ReactDOM").render(b("React").createElement(b("NotificationPermissionNotice.react"),{onHide:function(){b("ReactDOM").unmountComponentAtNode(d)},browserName:e}),d),l("deny",c)):l("install_ignore",c),n(c)})}a={setLogExtraData:function(a){i=a},setQEUniverseName:function(a){j=a},requestThenInstallWebNotifications:function(a,b,c,d,e,f){m(),this._showRequestPermissions({appID:a,baseElement:b,browserName:c,hasEnoughFriendsToRequestPush:d,sampleNotificationAvatarURI:f,sampleNotificationMessage:e,showSpinnerWhileRequesting:!0,isWebNotifications:!0,onAcceptCallback:this._getOnWebNotificationsDialogAccept({appID:a,callback:function(c){c==="granted"?(l("install",a),h.emitRemote("complete"),p(b),o(a)):(l("deny",a),n(a))}})})},requestThenInstallPush:function(a,c,d,e,f,g,h,i,j,k,l,n,o){__p&&__p();var p=this,s=b("PushRegistration").get(a,c);e=s.isPushRegistered(e,b("XPushRegisterServiceWorkerController"),b("XBrowserPushDisabledController"),b("AsyncRequest"),!!g,function(){q(d,s)},i);b("Promise").all([e,b("incognito")()]).then(function(e){var g=e[0];e=e[1];if(g||e)return;m();b("PushRegistration").pushPermissionIsPending()?p._showRequestPermissions({appID:c,baseElement:d,hasEnoughFriendsToRequestPush:j,isWebNotifications:!1,onAcceptCallback:p._getOnPushNotificationsAccept({appID:c,baseElement:d,browserName:h,path:a,workerIsForPushOnly:i}),sampleNotificationAvatarURI:l,sampleNotificationMessage:k,showSpinnerWhileRequesting:n,wasXOuted:f,hideSecondStep:o}):!f&&b("PushRegistration").pushPermissionIsOn()&&r(a,c,d,h,i)})["catch"](function(){b("PushRegistration").pushPermissionIsDenied()&&m()})},installPush:function(a,c,d,e,f,g,h,i,j,k){__p&&__p();var n=this;k===void 0&&(k="default");var o=typeof k==="string"&&k!=="default",s=b("PushRegistration").get(a,c);e=s.isPushRegistered(e,b("XPushRegisterServiceWorkerController"),b("XBrowserPushDisabledController"),b("AsyncRequest"),!!g,function(){q(d,s)},i);b("Promise").all([e,b("incognito")()]).then(function(e){__p&&__p();var g=e[0];e=e[1];if(g||e)return;m();if(b("PushRegistration").pushPermissionIsPending()){if(!j||f)return;o?(b("ReactDOM").render(b("React").createElement(b("NotificationPermissionDummyRequest.react"),{onNotNow:function(){n._recordUserDummyPromptAction("dummy_prompt_not_now",c),p(d)},onAccept:function(){n._recordUserDummyPromptAction("dummy_prompt_accept",c),n._renderDefaultPushRequest({path:a,appID:c,baseElement:d,browserName:h,workerIsForPushOnly:i})},onIgnore:function(){n._recordUserDummyPromptAction("dummy_prompt_dismissed",c),p(d)},isBinary:k==="binary"}),d),l("dummy_prompt_request",c,"dummy_prompt")):n._renderDefaultPushRequest({path:a,appID:c,baseElement:d,browserName:h,workerIsForPushOnly:i})}else f||r(a,c,d,h,i)})["catch"](function(){b("PushRegistration").pushPermissionIsDenied()&&m()})},_recordUserDummyPromptAction:function(a,c){l(a,c,"dummy_prompt");c=b("XBrowserPushDummyPromptActionController").getURIBuilder().getURI();new(b("AsyncRequest"))().setURI(c).setData({user_action:a}).setMethod("POST").send()},_renderDefaultPushRequest:function(a){var c=a.path,d=a.appID,e=a.baseElement,f=a.browserName;a=a.workerIsForPushOnly;b("ReactDOM").render(b("React").createElement(b("NotificationPermissionRequest.react"),{onHide:function(){p(e)}}),e);r(c,d,e,f,a)},_showRequestPermissions:function(a){var c=a.appID,d=a.baseElement,e=a.hasEnoughFriendsToRequestPush,f=a.isWebNotifications,g=a.onAcceptCallback,i=a.sampleNotificationAvatarURI,j=a.sampleNotificationMessage,k=a.showSpinnerWhileRequesting,m=a.wasXOuted;a=a.hideSecondStep;h.once("complete",function(a){p(d),l("twostep_suppressed",c)});if(!e||m)return;l("twostep_request",c);b("ReactDOM").render(b("React").createElement(b("NotificationPermissionRequestWithPreview.react"),{isWebNotifications:f,notificationImage:i||void 0,notificationMessage:j||void 0,onAccept:g,onClose:function(){l("twostep_notnow",c),h.emitRemote("complete"),n(c),p(d)},showSpinnerWhileRequesting:k,hideSecondStep:a}),d)},_getOnPushNotificationsAccept:function(a){var c=a.appID,d=a.baseElement,e=a.browserName,f=a.callback,g=a.path,i=a.workerIsForPushOnly;return function(){l("twostep_accept",c),h.emitRemote("complete"),b("promiseDone")(r(g,c,d,e,i).then(f,f))}},_getOnWebNotificationsDialogAccept:function(a){var b=this,c=a.appID,d=a.callback;return function(){l("twostep_accept",c),b._requestWebNotificationsFromBrowser(c,d)}},_requestWebNotificationsFromBrowser:function(a,b){l("turn_on",a),g.requestPermission(b)}};e.exports=a}),null);
__d("XBrowserPushMuteController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/notifications/client/push/mute/",{appid:{type:"Int",required:!0},push_endpoint:{type:"String",required:!0},surface:{type:"Enum",required:!0,enumType:1},mute_for:{type:"Enum",enumType:0},__asyncDialog:{type:"Int"}})}),null);
__d("BrowserPushMuteOptionsLink",["fbt","regeneratorRuntime","AsyncRequest","PushRegistration","React","ReactDOM","XBrowserPushMuteController","promiseDone"],(function(a,b,c,d,e,f,g){__p&&__p();function h(a,c,d){c=b("PushRegistration").get(c,d);b("promiseDone")(c.getPushSubscription(),function(c){if(c){c=b("XBrowserPushMuteController").getURIBuilder().setEnum("surface","jewel").setString("push_endpoint",c.endpoint).setInt("appid",d).getURI();new(b("AsyncRequest"))().setURI(c).setRelativeTo(a).send()}})}a={showMuteOptions:function(a,c,d){__p&&__p();var e,f;return b("regeneratorRuntime").async(function(i){__p&&__p();while(1)switch(i.prev=i.next){case 0:e=b("PushRegistration").get(c,d);i.prev=1;i.next=4;return b("regeneratorRuntime").awrap(e.getPushSubscription());case 4:f=i.sent;i.next=10;break;case 7:i.prev=7,i.t0=i["catch"](1),f=null;case 10:if(!(!b("PushRegistration").pushPermissionIsOn()||!f)){i.next=12;break}return i.abrupt("return");case 12:b("ReactDOM").render(b("React").createElement("a",{href:"#",onClick:function(){h(a,c,d)}},g._("Inaktivera")),a);case 13:case"end":return i.stop()}},null,this,[[1,7]])}};e.exports=a}),null);
__d("XBrowserPushRegistrationController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/push/permissions/",{})}),null);
__d("DesktopBrowserNotificationsUpdatePermissionStatus",["AsyncRequest","XBrowserPushRegistrationController"],(function(a,b,c,d,e,f){"use strict";a={updateIfNeeded:function(a){if(a.host!==window.location.hostname)return;window.Notification&&window.Notification.permission!==a.state&&this._updateRegistration(window.location.hostname,window.Notification.permission)},_updateRegistration:function(a,c){var d=b("XBrowserPushRegistrationController").getURIBuilder().getURI();new(b("AsyncRequest"))(d).setData({host:a,state:c}).setMethod("POST").send()}};e.exports=a}),null);